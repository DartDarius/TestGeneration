Трудности, которые возникали во время работы 

1. Извлечение текста со страницы с помощью Puppeteer

На начальных этапах пыталась извлекать текст со страницы с помощью библиотеки Axios, но результат был неполным или содержал закодированные строки вместо текста со страницы.

Заменила Axios на Puppeteer, который открывает страницу в браузере, что позволяет получить полный текст через DOM страницы. Этот метод позволил корректно извлекать текст с веб-страниц, даже если они используют JavaScript для динамической загрузки контента.

2. Неправильное извлечение текста

Текст извлекался некорректно, что приводило к генерации PDF-документов с бесполезными строками, например, с закодированными URL-адресами или другими символами.

Вставка правильной логики извлечения текста из элемента body страницы с помощью Puppeteer. Это позволило получать осмысленный текст для дальнейшего анализа и обработки.

3. Навигационные ошибки в Puppeteer

Столкнулась с ошибками при навигации Puppeteer к некоторым URL, включая проблемы с кириллическими символами,  которые вызвали ошибки навигации

Ошибки с навигацией решились через правильную передачу URL-адресов и корректную обработку времени ожидания для Puppeteer. Были добавлены параметры ожидания networkidle2, чтобы страница полностью загрузилась, прежде чем текст будет извлечен.

4. Генерация PDF-документа

Были трудности с правильной генерацией PDF-документа. На начальных этапах PDF-документ содержал неправильный текст, а вместо слов на странице в документе отображались закодированные строки.

Проблема решилась после исправления процесса извлечения текста с веб-страниц, используя библиотеку PDFKit.

5. Проблема с поддержкой кириллицы в PDF-документе

Несмотря на то, что текст с кириллическими символами отображался в логах и корректно извлекался с веб-страницы, он не появлялся в PDF-документе. В PDF-файле были только слова, содержащие латинские буквы, а кириллица игнорировалась.

Причина этой проблемы — отсутствие поддержки шрифтов для кириллических символов в библиотеке PDFKit. Чтобы решить это, можно скачать и использовать шрифты, поддерживающие кириллицу, такие как Roboto, Open Sans или другие, и подключить их при создании PDF-документа. Это позволит PDFKit корректно отображать кириллические символы.